---
import Button1 from '../atomos/Button1.astro';
import ContenedorTitleBotonera from '../atomos/ContenedorTitleBotonera.astro';
import DivBox1 from '../atomos/DivBox1.astro';
import CardUltimasVisitas from '../moleculas/CardUltimasVisitas.astro';

interface Visitas {
  fecha: string;
  motivo: string;
  doctor?: string;
  department?: string;
  tratamiento?: string;
  diagnosticos?: string;
}

interface RecentVisitsProps {
  visitas: Visitas[];
}

const { visitas, colorMap } = Astro.props as RecentVisitsProps;
const { pacienteId } = Astro.params;
---

<DivBox1>
  <ContenedorTitleBotonera>
    <h2 class="text-lg font-semibold">Visitas Recientes</h2>
    <div>
      <Button1>ver historial</Button1>
    </div>
  </ContenedorTitleBotonera>

  <div class="grid gap-4 w-full">
    {
      visitas?.map(visit => (
        <CardUltimasVisitas visit={visit} colorMap={colorMap} pacienteId={pacienteId} />
      ))
    }
  </div>
</DivBox1>
