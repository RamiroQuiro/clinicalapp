---
import MainDashboard from '@/components/atomos/MainDashboard.astro';
import LayoutDash from '@/components/layouts/LayoutDash.astro';
import FormConfiguracionCentro from './components/FormConfiguracionCentro';
import { QRManager } from './components/QRManager';

const user = Astro.locals.user as any; // Usar any para evitar error de tipo
const centroMedicoId = user?.centroMedicoId || 'centro-id-demo';
const nombreCentro = 'Centro MÃ©dico Principal';
---

<LayoutDash title="Ajustes Generales">
  <MainDashboard title="Ajustes Generales" h1="Ajustes Generales" isBack={true}>
    <div slot="botonera">
      <QRManager client:load centroMedicoId={centroMedicoId} nombreCentro={nombreCentro} />
    </div>
    <div class="p-4 w-full">
      <FormConfiguracionCentro client:load />
    </div>
  </MainDashboard>
</LayoutDash>
